
'use strict';
(function() /*@yjs:keep*/ {
window["data-nodessource"] = [
  {id:0, group:"group0", position: "Chief Executive Officer", name: "Eric Joplin", email: "ejoplin@yoyodyne.com", phone: "555-0100", fax: "555-0101", businessUnit: "Executive Unit", status: "present", icon: "#usericon_male1"},
  {id:1, group:"group0", position: "Chief Executive Assistant", name: "Gary Roberts", email: "groberts@yoyodyne.com", phone: "555-0100", fax: "555-0101", businessUnit: "Executive Unit", status: "present", icon: "#usericon_male2"},
  {id:2, group:"group0", position: "Senior Executive Assistant", name: "Alexander Burns", email: "aburns@yoyodyne.com", phone: "555-0102", fax: "555-0103", businessUnit: "Executive Unit", status: "present", icon: "#usericon_male3"},
  {id:3, group:"group0", position: "Junior Executive Assistant", name: "Linda Newland", email: "lnewland@yoyodyne.com", phone: "555-0112", fax: "555-0113", businessUnit: "Executive Unit", status: "present", icon: "#usericon_female1"},
  {id:4, group:"group1", position: "Vice President of Production", name: "Amy Kain", email: "akain@yoyodyne.com", phone: "555-0106", fax: "555-0107", businessUnit: "Production", status: "unavailable", icon: "#usericon_female2"},
  {id:5, group:"group1", position: "Master Scheduler", name: "Larry Littlefield", email: "llittlefield@yoyodyne.com", phone: "555-0126", fax: "555-0127", businessUnit: "Production", status: "present", icon: "#usericon_male3"},
  {id:6, group:"group1", position: "Facilities Manager", name: "Anne Binger", email: "abinger@yoyodyne.com", phone: "555-0122", fax: "555-0123", businessUnit: "Production", status: "present", icon: "#usericon_female2"},
  {id:7, group:"group1", position: "Facilities Administrative Assistant", name: "Timothy Jackson", email: "tjackson@yoyodyne.com", phone: "555-0140", fax: "555-0141", businessUnit: "Production", status: "present", icon: "#usericon_male3"},
  {id:8, group:"group1", position: "Maintenance Supervisor", name: "Carmen Langenhagen", email: "clangenhagen@yoyodyne.com", phone: "555-0142", fax: "555-0143", businessUnit: "Production", status: "present", icon: "#usericon_female1"},
  {id:9, group:"group1", position: "Shipping and Receiving Supervisor", name: "Ray Hammond", email: "rhammond@yoyodyne.com", phone: "555-0146", fax: "555-0147", businessUnit: "Production", status: "travel", icon: "#usericon_male3"},
  {id:10, group:"group1", position: "Shipping and Receiving Clerk", name: "Bob Lacey", email: "blacey@yoyodyne.com", phone: "555-0124", fax: "555-0125", businessUnit: "Production", status: "travel", icon: "#usericon_male1"},
  {id:11, group:"group1", position: "Stocker", name: "Ronnie Garcia", email: "rgarcia@yoyodyne.com", phone: "555-0130", fax: "555-0131", businessUnit: "Production", status: "present", icon: "#usericon_male2"},
  {id:12, group:"group1", position: "Production Supervisor", name: "Kathy Maxwell", email: "kmaxwell@yoyodyne.com", phone: "555-0132", fax: "555-0133", businessUnit: "Production", status: "present", icon: "#usericon_female3"},
  {id:13, group:"group2", position: "Vice President of Sales", name: "Richard Fuller", email: "rfuller@yoyodyne.com", phone: "555-0134", fax: "555-0135", businessUnit: "Sales", status: "present", icon: "#usericon_male1"},
  {id:14, group:"group2", position: "North America Sales Manager", name: "Joe Vargas", email: "jvargas@yoyodyne.com", phone: "555-0136", fax: "555-0137", businessUnit: "Sales", status: "present", icon: "#usericon_male2"},
  {id:15, group:"group2", position: "Sales Representative", name: "Robert Parson", email: "rparson@yoyodyne.com", phone: "555-0150", fax: "555-0151", businessUnit: "Sales", status: "travel", icon: "#usericon_male3"},
  {id:16, group:"group2", position: "Sales Representative", name: "Melissa Noren", email: "mnoren@yoyodyne.com", phone: "555-0152", fax: "555-0153", businessUnit: "Sales", status: "present", icon: "#usericon_female1"},
  {id:17, group:"group2", position: "European Sales Manager", name: "Robert Hartman", email: "rhartman@yoyodyne.com", phone: "555-0138", fax: "555-0139", businessUnit: "Sales", status: "present", icon: "#usericon_male2"},
  {id:18, group:"group2", position: "Sales Representative", name: "Rebecca Polite", email: "rpolite@yoyodyne.com", phone: "555-0148", fax: "555-0149", businessUnit: "Sales", status: "travel", icon: "#usericon_female3"},
  {id:19, group:"group2", position: "Sales Representative", name: "Michael Daniels", email: "mdaniels@yoyodyne.com", phone: "555-0154", fax: "555-0155", businessUnit: "Sales", status: "travel", icon: "#usericon_male1"},
  {id:20, group:"group3", position: "Vice President of Engineering", name: "Mildred Shark", email: "mshark@yoyodyne.com", phone: "555-0156", fax: "555-0157", businessUnit: "Engineering", status: "present", icon: "#usericon_female2"},
  {id:21, group:"group3", position: "Engineering Manager", name: "Martha Barnes", email: "mbarnes@yoyodyne.com", phone: "555-0158", fax: "555-0159", businessUnit: "Engineering", status: "present", icon: "#usericon_female3"},
  {id:22, group:"group30", position: "Senior Tool Designer", name: "Maria Dossantos", email: "mdossantos@yoyodyne.com", phone: "555-0160", fax: "555-0161", businessUnit: "Engineering", status: "present", icon: "#usericon_female1"},
  {id:23, group:"group30", position: "Tool Designer", name: "Hector Donald", email: "hdonald@yoyodyne.com", phone: "555-0162", fax: "555-0163", businessUnit: "Engineering", status: "present", icon: "#usericon_male2"},
  {id:24, group:"group30", position: "Tool Designer", name: "Michelle Douglas", email: "mdouglas@yoyodyne.com", phone: "555-0228", fax: "555-0229", businessUnit: "Engineering", status: "present", icon: "#usericon_female3"},
  {id:25, group:"group30", position: "Tool Designer", name: "Bonnie Penney", email: "bpenney@yoyodyne.com", phone: "555-0234", fax: "555-0235", businessUnit: "Engineering", status: "present", icon: "#usericon_female1"},
  {id:26, group:"group30", position: "Tool Designer", name: "Francis Webster", email: "fwebster@yoyodyne.com", phone: "555-0236", fax: "555-0237", businessUnit: "Engineering", status: "present", icon: "#usericon_male2"},
  {id:27, group:"group30", position: "Tool Designer", name: "Gregory Arnold", email: "garnold@yoyodyne.com", phone: "555-0238", fax: "555-0239", businessUnit: "Engineering", status: "present", icon: "#usericon_male3"},
  {id:28, group:"group31", position: "Senior Design Engineer", name: "Laurie Aitken", email: "laitken@yoyodyne.com", phone: "555-0164", fax: "555-0165", businessUnit: "Engineering", status: "present", icon: "#usericon_female2"},
  {id:29, group:"group31", position: "Design Engineer", name: "Carla Clark", email: "cclark@yoyodyne.com", phone: "555-0242", fax: "555-0243", businessUnit: "Engineering", status: "unavailable", icon: "#usericon_female3"},
  {id:30, group:"group31", position: "Design Engineer", name: "Cynthia Judd", email: "cjudd@yoyodyne.com", phone: "555-0244", fax: "555-0245", businessUnit: "Engineering", status: "unavailable", icon: "#usericon_female1"},
  {id:31, group:"group31", position: "Design Engineer", name: "Robert Finn", email: "rfinn@yoyodyne.com", phone: "555-0246", fax: "555-0247", businessUnit: "Engineering", status: "present", icon: "#usericon_male2"},
  {id:32, group:"group31", position: "Design Engineer", name: "Willie Schaub", email: "wschaub@yoyodyne.com", phone: "555-0248", fax: "555-0249", businessUnit: "Engineering", status: "present", icon: "#usericon_male3"},
  {id:33, group:"group31", position: "Design Engineer", name: "Edwin Nagy", email: "enagy@yoyodyne.com", phone: "555-0166", fax: "555-0167", businessUnit: "Engineering", status: "present", icon: "#usericon_male1"},
  {id:34, group:"group32", position: "R & D Manager", name: "John Payne", email: "jpayne@yoyodyne.com", phone: "555-0168", fax: "555-0169", businessUnit: "Engineering", status: "present", icon: "#usericon_male2"},
  {id:35, group:"group32", position: "R & D Engineer", name: "Rana Oxborough", email: "roxborough@yoyodyne.com", phone: "555-0176", fax: "555-0177", businessUnit: "Engineering", status: "present", icon: "#usericon_female3"},
  {id:36, group:"group32", position: "R & D Engineer", name: "Gary Olsen", email: "golsen@yoyodyne.com", phone: "555-0178", fax: "555-0179", businessUnit: "Engineering", status: "present", icon: "#usericon_male1"},
  {id:37, group:"group32", position: "R & D Engineer", name: "Matthew Finney", email: "mfinney@yoyodyne.com", phone: "555-0206", fax: "555-0207", businessUnit: "Engineering", status: "travel", icon: "#usericon_male2"},
  {id:38, group:"group32", position: "R & D Engineer", name: "Julius Kelly", email: "jkelly@yoyodyne.com", phone: "555-0208", fax: "555-0209", businessUnit: "Engineering", status: "present", icon: "#usericon_male3"},
  {id:39, group:"group32", position: "R & D Engineer", name: "Charles Wylam", email: "cwylam@yoyodyne.com", phone: "555-0212", fax: "555-0213", businessUnit: "Engineering", status: "present", icon: "#usericon_male1"},
  {id:40, group:"group4", position: "Marketing Manager", name: "Angela Haase", email: "ahaase@yoyodyne.com", phone: "555-0170", fax: "555-0171", businessUnit: "Marketing", status: "present", icon: "#usericon_female1"},
  {id:41, group:"group4", position: "Marketing Specialist", name: "Jermaine Stewart", email: "jstewart@yoyodyne.com", phone: "555-0172", fax: "555-0173", businessUnit: "Marketing", status: "present", icon: "#usericon_male2"},
  {id:42, group:"group4", position: "Marketing Assistant", name: "Lorraine Deaton", email: "ldeaton@yoyodyne.com", phone: "555-0174", fax: "555-0175", businessUnit: "Marketing", status: "present", icon: "#usericon_female3"},
];
window["data-edgessource"] = [
  {fromNode:0, toNode:1},
  {fromNode:0, toNode:4},
  {fromNode:0, toNode:13},
  {fromNode:0, toNode:20},
  {fromNode:0, toNode:40},
  {fromNode:1, toNode:2},
  {fromNode:1, toNode:3},
  {fromNode:4, toNode:5},
  {fromNode:4, toNode:6},
  {fromNode:4, toNode:9},
  {fromNode:4, toNode:12},
  {fromNode:6, toNode:7},
  {fromNode:7, toNode:8},
  {fromNode:9, toNode:10},
  {fromNode:9, toNode:11},
  {fromNode:13, toNode:14},
  {fromNode:13, toNode:17},
  {fromNode:14, toNode:15},
  {fromNode:14, toNode:16},
  {fromNode:17, toNode:18},
  {fromNode:17, toNode:19},
  {fromNode:20, toNode:21},
  {fromNode:21, toNode:22},
  {fromNode:21, toNode:28},
  {fromNode:21, toNode:34},
  {fromNode:22, toNode:23},
  {fromNode:22, toNode:24},
  {fromNode:22, toNode:25},
  {fromNode:22, toNode:26},
  {fromNode:22, toNode:27},
  {fromNode:28, toNode:29},
  {fromNode:28, toNode:30},
  {fromNode:28, toNode:31},
  {fromNode:28, toNode:32},
  {fromNode:28, toNode:33},
  {fromNode:34, toNode:35},
  {fromNode:34, toNode:36},
  {fromNode:34, toNode:37},
  {fromNode:34, toNode:38},
  {fromNode:34, toNode:39},
  {fromNode:40, toNode:41},
  {fromNode:40, toNode:42}
];
window["data-groupssource"] = [
  {id:"group0"},
  {id:"group1"},
  {id:"group2"},
  {id:"group3"},
  {id:"group4"},
  {id:"group30", parentGroup:"group3"},
  {id:"group31", parentGroup:"group3"},
  {id:"group32", parentGroup:"group3"}
];
}());
(function() {

  angular
    .module('ngbp')
    .directive('graphControl', function($compile, $filter, Layout) {

      return {
        restrict: "AE",
        replace: false,
        scope: {
          'nodesSource': '=',
          'edgesSource': '=',
          'nodeIdBinding': '@',
          'sourceNodeBinding': '@',
          'targetNodeBinding': '@',
          'nodesFilter': '=',
          'currentNode': '='
        },

        link: function(scope, $element, attrs) {

          var currentLayouter = null,
            inlayout = false,
            incrementalNodes = null,
            incrementalEdges = null,
            hintsFactory = null,
            foldedGraph = null,
            fixedGroupNodeLayout = null,
            graphControl = new yfiles.canvas.GraphControl(),
            overviewControl = new yfiles.canvas.GraphOverviewControl(),
            graphSource = createGraphSource();

          loaded();

          function loaded() {
            createTitle("Incremental Hierarchic Grouping Demo [yFiles for HTML]");
            initControl();
            var div = $element[0];
            if (div) {
              div.appendChild(graphControl.div);
              div.graphControl = graphControl;
            }
          }

          /** @private */
          function createTitle(title) {
            document.title = title;
          }

          /** @private */
          function initControl() {
            incrementalNodes = new yfiles.collections.HashSet /**.<yfiles.graph.INode>*/ ();
            incrementalEdges = new yfiles.collections.HashSet /**.<yfiles.graph.IEdge>*/ ();
            setupLayouters();
            initializeInputModes();
            initializeGraph();
            graphControl.graph = graphSource.buildGraph();
            overviewControl.graphControl = graphControl;
          }

          function createGraphSource() {
            var graphSource = new yfiles.binding.GraphSource();
            // Stores the nodes of the graph
            graphSource.nodesSource = window["data-nodessource"];
            // Stores the edges of the graph
            graphSource.edgesSource = window["data-edgessource"];
            // Stores the group nodes of the graph
            graphSource.groupsSource = window["data-groupssource"];
            // Identifies the property of an edge object that contains the source node's id
            graphSource.sourceNodeBinding = new yfiles.binding.Binding("fromNode");
            // Identifies the property of an edge object that contains the target node's id
            graphSource.targetNodeBinding = new yfiles.binding.Binding("toNode");
            // Identifies the id property of a node object
            graphSource.nodeIdBinding = new yfiles.binding.Binding("id");
            // Identifies the property of a node object that contains its group's id
            graphSource.groupBinding = new yfiles.binding.Binding("group");
            // Identifies the property of a group node object that contains its parent group id
            graphSource.parentGroupBinding = new yfiles.binding.Binding("parentGroup");
            // Identifies the id property of a group node object
            graphSource.groupIdBinding = new yfiles.binding.Binding("id");
            // Identifies the property of an edge object that contains the text used for the edge's label
            graphSource.edgeLabelBinding = new yfiles.binding.Binding("text");

            // Set nice initial styles and sizes
            graphSource.nodeDefaults.style = new yfiles.drawing.TemplateNodeStyle.WithKey("nodeTemplate");
            graphSource.nodeDefaults.size = new yfiles.geometry.SizeD(250, 60);
            var newPolylineEdgeStyle = new yfiles.drawing.PolylineEdgeStyle();
            newPolylineEdgeStyle.targetArrow = yfiles.drawing.DefaultArrow.SIMPLE;
            graphSource.edgeDefaults.style = newPolylineEdgeStyle;

            var panelNodeStyle = new yfiles.drawing.PanelNodeStyle.WithColor(yfiles.system.Color.fromArgb(255, 214, 229, 248));
            panelNodeStyle.insets = new yfiles.geometry.InsetsD(20);
            graphSource.groupNodeDefaults.style = panelNodeStyle;

            return graphSource;
          }

          /** @private */
          function applyLayout() {
            // check if layout is currently running
            if (!inlayout) {
              inlayout = true;
              // run layout
              var newLayoutExecutor = new yfiles.graph.LayoutExecutor.FromControlAndLayouter(graphControl, new yfiles.layout.MinNodeSizeStage(currentLayouter));
              newLayoutExecutor.animateViewport = false;
              newLayoutExecutor.easedAnimation = true;
              newLayoutExecutor.updateContentRect = true;
              newLayoutExecutor.duration = yfiles.system.TimeSpan.fromMilliseconds(500);
              newLayoutExecutor.finishHandler = (function( /**Object*/ sender, /**yfiles.system.EventArgs*/ args) {
                inlayout = false;
                if (args instanceof yfiles.graph.LayoutExceptionEventArgs) {
                  var /**yfiles.lang.Exception*/ exception = (( /**@type {yfiles.graph.LayoutExceptionEventArgs}*/ (args))).exception;
                  demo.Application.handleError(exception, exception.message, 0);
                }
              }).bind(this);
              newLayoutExecutor.start();
            }
          }

          /** @private */
          function setupLayouters() {
            // create and IncrementalHierarchicLayouter
            var /**yfiles.hierarchic.IncrementalHierarchicLayouter*/ ihl = new yfiles.hierarchic.IncrementalHierarchicLayouter();
            ihl.recursiveGroupLayering = false;
            ihl.layoutMode = yfiles.hierarchic.LayoutMode.INCREMENTAL;

            ihl.edgeLayoutDescriptor.orthogonallyRouted = true;
            // ihl.appendStage(new demo.IncrementalHierarchicGroupingDemo.FixNodeLocationStage(ihl));
            hintsFactory = ihl.createIncrementalHintsFactory();
            currentLayouter = ihl;
          }

          /**
           * Creates a mode and registers it as the
           * {@link yfiles.canvas.CanvasControl#inputMode}.
           */
          function initializeInputModes() {
            var /**yfiles.input.GraphViewerInputMode*/ inputMode = new yfiles.input.GraphViewerInputMode();
            inputMode.navigationInputMode.collapsingGroupsAllowed = true;
            inputMode.navigationInputMode.expandingGroupsAllowed = true;
            // FitContent interferes with our viewport animation setup
            inputMode.navigationInputMode.fitContentAfterGroupActions = false;
            inputMode.navigationInputMode.addGroupExpandedListener(yfiles.lang.delegate(navigationInputMode_GroupExpanded, this));
            inputMode.navigationInputMode.addGroupCollapsedListener(yfiles.lang.delegate(navigationInputMode_GroupCollapsed, this));
            graphControl.inputMode = inputMode;
          }

          /**
           * Event handler that is triggered when a group is closed interactively.
           * This method performs an incremental layout on the newly collapsed group node.
           * @param {Object} source
           * @param {yfiles.model.ItemEventArgs.<yfiles.graph.INode>} evt
           * @private
           */
          function navigationInputMode_GroupCollapsed( /**Object*/ source, /**yfiles.model.ItemEventArgs.<yfiles.graph.INode>*/ evt) {
            incrementalNodes.clear();
            incrementalEdges.clear();
            // we mark the group node and its adjacent edges as incremental
            incrementalNodes.add(evt.item);
            incrementalEdges.unionWith(graphControl.graph.edgesAtOwner(evt.item));
            // rescue the original node bounds which are needed for a correct layout
            var /**yfiles.graph.INode*/ groupNode = evt.item;
            fixedGroupNodeLayout.clear();
            fixedGroupNodeLayout.setItem(groupNode, groupNode.layout.toRectD());

            // retrieve the state of the view node *before* the grouping operation
            var /**yfiles.graph.INode*/ master = foldedGraph.getMaster(groupNode);
            // and set these bounds so that the animation will move it to the correct location
            graphControl.graph.setBounds(groupNode, master.layout.toRectD());

            // reset adjacent edge paths to get smoother layout transitions
            graphControl.graph.edgesAtOwner(groupNode).forEach((function( /**yfiles.graph.IEdge*/ edge) {
              graphControl.graph.clearBends(edge);
            }).bind(this));

            applyLayout();
          }

          /**
           * Event handler that is triggered when a group is expanded interactively.
           * This method performs an incremental layout on the newly expanded group node and its descendants.
           * @param {Object} source
           * @param {yfiles.model.ItemEventArgs.<yfiles.graph.INode>} evt
           * @private
           */
          function navigationInputMode_GroupExpanded( /**Object*/ source, /**yfiles.model.ItemEventArgs.<yfiles.graph.INode>*/ evt) {
            var /**yfiles.graph.IHierarchy.<yfiles.graph.INode>*/ hierarchy = graphControl.graph.safeGet(yfiles.graph.IHierarchy.$class);
            incrementalNodes.clear();
            incrementalEdges.clear();
            // we mark the group node and its descendants as incremental
            incrementalNodes.add(evt.item);
            var /**yfiles.collections.IEnumerable.<yfiles.graph.INode>*/ descendants = hierarchy.getDescendants(evt.item);
            incrementalNodes.unionWith(descendants);
            var /**yfiles.graph.INode*/ groupNode = evt.item;
            fixedGroupNodeLayout.clear();
            // rescue the original node bounds which are needed for a correct layout
            fixedGroupNodeLayout.setItem(groupNode, groupNode.layout.toRectD());

            var /**yfiles.graph.INode*/ master = foldedGraph.getMaster(groupNode);

            // retrieve the state of the view node *before* the grouping operation
            var /**yfiles.graph.INode*/ state = foldedGraph.manager.getNodeViewState(new yfiles.graph.DummyNodeId(master));
            // and set these bounds so that the animation will move it to the correct location
            graphControl.graph.setBounds(groupNode, state.layout.toRectD());

            // reset the paths and the centers of the child nodes so that morphing looks smoother
            descendants.forEach((function( /**yfiles.graph.INode*/ childNode) {
              graphControl.graph.edgesAtOwner(childNode).forEach((function( /**yfiles.graph.IEdge*/ edge) {
                graphControl.graph.clearBends(edge);
              }).bind(this));
              graphControl.graph.setCenter(childNode, groupNode.layout.getRectangleCenter());
            }).bind(this));

            // reset adjacent edge paths to get smoother layout transitions
            graphControl.graph.edgesAtOwner(groupNode).forEach((function( /**yfiles.graph.IEdge*/ edge) {
              graphControl.graph.clearBends(edge);
            }).bind(this));

            applyLayout();
          }

          /**
           * Initializes the graph instance, setting default styles
           * and creating a small sample graph.
           */
          function initializeGraph() {
            // create the manager for the folding operations
            var /**yfiles.graph.FoldingManager*/ foldingManager = new yfiles.graph.FoldingManager();

            // create a view
            foldedGraph = foldingManager.createManagedView();

            // and set it to the GraphControl
            graphControl.graph = foldedGraph.graph;

            // decorate the behavior of nodes
            var /**yfiles.graph.NodeDecorator*/ nodeDecorator = graphControl.graph.getDecorator().nodeDecorator;

            // adjust the insets so that labels are considered
            nodeDecorator.insetsProviderDecorator.setImplementationWrapper(function( /**yfiles.graph.INode*/ node, /**yfiles.drawing.IInsetsProvider.<yfiles.graph.INode>*/ insetsProvider) {
              if (insetsProvider !== null) {
                var /**yfiles.geometry.InsetsD*/ insets = insetsProvider.getInsets(node);
                return new demo.LabelInsetsProvider /**.<yfiles.graph.INode>*/ .FromInsets(insets.clone());
              } else {
                return new demo.LabelInsetsProvider /**.<yfiles.graph.INode>*/ ();
              }
            });

            //Constrain group nodes to at least the size of their labels
            nodeDecorator.sizeConstraintProviderDecorator.setImplementationWrapper(function( /**yfiles.graph.INode*/ node, /**yfiles.input.ISizeConstraintProvider.<yfiles.graph.INode>*/ oldImpl) {
              return new demo.LabelSizeConstraintProvider /**.<yfiles.graph.INode>*/ (oldImpl);
            });

            graphControl.graph.mapperRegistry.addMapperWithTagAndGetter(yfiles.model.IModelItem.$class, yfiles.lang.Object.$class, yfiles.hierarchic.IncrementalHierarchicLayouter.INCREMENTAL_HINTS_DP_KEY, (function( /**yfiles.model.IModelItem*/ item) {
              //Return the correct hint type for each model item that appears in one of these sets
              if (yfiles.graph.INode.isInstance(item) && incrementalNodes.contains(( /**@type {yfiles.graph.INode}*/ (item)))) {
                return hintsFactory.createLayerIncrementallyHint(item);
              }
              if (yfiles.graph.IEdge.isInstance(item) && incrementalEdges.contains(( /**@type {yfiles.graph.IEdge}*/ (item)))) {
                return hintsFactory.createSequenceIncrementallyHint(item);
              }
              return null;
            }).bind(this));
            // fixedGroupNodeLayout = new yfiles.model.DictionaryMapper /**.<yfiles.graph.INode, yfiles.geometry.RectD>*/ ();
            // graphControl.graph.mapperRegistry.addMapper(yfiles.graph.INode.$class, yfiles.geometry.RectD.$class, "NodeLayouts", fixedGroupNodeLayout);
            // readGraph(graphControl.graph, "assets/sample.graphml", (function(sender, args) {
            //   layoutAfterReading();
            // }).bind(this));
          }

          /** @private */
          function layoutAfterReading() {
            yfiles.canvas.GraphControl.FIT_GRAPH_BOUNDS_COMMAND.executeOnTarget(null, graphControl);
            incrementalNodes.unionWith(graphControl.graph.nodes);
            graphControl.morphLayout(new yfiles.layout.MinNodeSizeStage(currentLayouter), yfiles.system.TimeSpan.fromSeconds(0.5), (function( /**Object*/ s, /**yfiles.system.EventArgs*/ args) {
              inlayout = false;
              if (args instanceof yfiles.graph.LayoutExceptionEventArgs) {
                var /**yfiles.lang.Exception*/ exception = (( /**@type {yfiles.graph.LayoutExceptionEventArgs}*/ (args))).exception;
                demo.Application.handleError(exception, exception.message, 0);
              }
            }).bind(this));
          }

          function readGraph( /**yfiles.graph.IGraph*/ graph, /**string*/ filename, /**function(Object, yfiles.graphml.ParseEventArgs)*/ afterParsing) {
            graph.clear();
            var /**yfiles.graphml.GraphMLIOHandler*/ ioHandler = createGraphMLIOHandler();
            ioHandler.addParsedListener(afterParsing);
            try {
              ioHandler.readFromURL(graph, filename);
              return true;
            } catch ( /**yfiles.lang.Exception*/ e) {
              {
                var /**Object*/ error = ( /**@type {Object}*/ (e));
                var /**string*/ message = "Unable to open the graph.\nPerhaps your browser does not allow handling cross domain HTTP requests. Please see the demo readme for details.";
                if (error["message"]) {
                  message += "\n" + error["message"] + "\n";
                }
                alert(message);
                return false;
              }
            }
          }

          /** @return {yfiles.graphml.GraphMLIOHandler} */
          function createGraphMLIOHandler() {
            return new yfiles.graphml.GraphMLIOHandler();
          }

        }
      };
    });
})();
